var EskyLib=function(a){try{this.initializeVariables(),this.parseArguments(a),this.setupRendering(),this.setupControls(),this.runSetupFunction(),this.startDrawingLogicLoop()}catch(b){console.error("EskyLib Exception: "+b)}};
EskyLib.prototype.initializeVariables=function(){this.logicLoopFunction=this.drawLoopFunction=this.setupFunction=this.container=void 0;this.canvasHeight=this.canvasWidth=this.clearColour=0;this.VIEW_ANGLE=45;this.ASPECT=0;this.NEAR=0.1;this.FAR=1E4;this.scene=this.camera=this.renderer=void 0;this.isPlaying=!0;this.mouseY=this.mouseX=0;this.downPressed=this.upPressed=this.rightPressed=this.leftPressed=this.mouseClicked=!1;this.fpsControls=void 0};
EskyLib.prototype.parseArguments=function(a){if(a)this.parseRequiredArguments(a),this.parseOptionalArguments(a);else throw"No arguments provided";};EskyLib.prototype.parseRequiredArguments=function(a){if(a.container){if(this.container=$(a.container),"undefined"===this.container||0>=this.container.length)throw"Couldn't find container: "+a.container;}else throw"No container specified.";if(a.drawLoopFunction)this.drawLoopFunction=a.drawLoopFunction;else throw"No draw function specified.";};
EskyLib.prototype.parseOptionalArguments=function(a){a.setupFunction&&(this.setupFunction=a.setupFunction);a.logicLoopFunction&&(this.logicLoopFunction=a.logicLoopFunction);a.canvasWidth&&a.canvasHeight?(this.canvasWidth=a.canvasWidth,this.canvasHeight=a.canvasHeight):(this.canvasWidth=800,this.canvasHeight=600);this.clearColour="string"!==a.clearCol?a.clearCol:0};
EskyLib.prototype.setupControls=function(){var a=this;$(document).keyup(function(b){b=b.which;37===b?a.leftPressed=!1:39===b?a.rightPressed=!1:38===b?a.upPressed=!1:40===b&&(a.downPressed=!1)});$("*").mousedown(function(){a.mouseClicked=!0});$("*").mouseup(function(){a.mouseClicked=!1});$(document).mousemove(function(b){a.mouseX=b.pageX;a.mouseY=b.pageY})};
EskyLib.prototype.setupRendering=function(){this.ASPECT=this.canvasWidth/this.canvasHeight;this.renderer=new THREE.WebGLRenderer;this.camera=new THREE.PerspectiveCamera(this.VIEW_ANGLE,this.ASPECT,this.NEAR,this.FAR);this.scene=new THREE.Scene;this.scene.add(this.camera);this.camera.position.z=300;this.renderer.setSize(this.WIDTH,this.HEIGHT);this.container.append(this.renderer.domElement);this.controls=new THREE.PointerLockControls(this.camera);this.controls.movementSpeed=5;this.controls.lookSpeed=
0.005;this.controls.noFly=!1;this.controls.lookVertical=!0;this.controls.activeLook=!1;if("undefined"===this.controls)throw"Couldn't setup pointer lock controls";};EskyLib.prototype.runSetupFunction=function(){this.setupFunction&&this.setupFunction()};EskyLib.prototype.startDrawingLogicLoop=function(){window.requestAnimationFrame(this.drawingLogicLoop.bind(this))};
EskyLib.prototype.drawingLogicLoop=function(){this.logicLoopFunction&&this.logicLoopFunction();this.drawLoopFunction();this.renderer.render(this.scene,this.camera);window.requestAnimationFrame(this.drawingLogicLoop.bind(this))};
