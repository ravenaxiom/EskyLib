var EskyLib=function(a,c,b,f,g,d){this.logicLoopFunction=this.drawLoopFunction=this.container=void 0;this.HEIGHT=this.WIDTH=this.clearColour=0;this.VIEW_ANGLE=45;this.ASPECT=0;this.NEAR=0.1;this.FAR=1E4;this.scene=this.camera=this.renderer=void 0;this.isPlaying=!0;this.mouseY=this.mouseX=0;this.downPressed=this.upPressed=this.rightPressed=this.leftPressed=this.mouseClicked=!1;this.fpsControls=void 0;if(a)this.container=$(a);else throw"No container specified.";if(c&&b)this.WIDTH=c,this.HEIGHT=b;else throw"No canvas size specified.";
if(f)this.drawLoopFunction=f;else throw"No draw function specified.";if(g)this.logicLoopFunction=g;else throw"No logic function specified.";this.clearColour=d?d:0;try{this.setupDrawing(),this.setupControls()}catch(e){throw"Eskylib Exception: "+e;}};
EskyLib.prototype.setupControls=function(){$(document).keyup(function(a){a=a.which;37==a?this.leftPressed=!1:39==a?this.rightPressed=!1:38==a?this.upPressed=!1:40==a&&(this.downPressed=!1)});$("*").mousedown(function(){this.mouseClicked=!0});$("*").mouseup(function(){this.mouseClicked=!1});$(document).mousemove(function(a){this.mouseX=a.pageX;this.mouseY=a.pageY})};
EskyLib.prototype.setupDrawing=function(){this.ASPECT=this.WIDTH/this.HEIGHT;this.renderer=new THREE.WebGLRenderer;this.camera=new THREE.PerspectiveCamera(this.VIEW_ANGLE,this.ASPECT,this.NEAR,this.FAR);this.scene=new THREE.Scene;this.scene.add(this.camera);this.camera.position.z=300;this.renderer.setSize(this.WIDTH,this.HEIGHT);this.container.append(this.renderer.domElement);this.controls=new THREE.FirstPersonControls(this.camera);this.controls.movementSpeed=5;this.controls.lookSpeed=0.005;this.controls.noFly=
!1;this.controls.lookVertical=!0;this.controls.activeLook=!1;if(void 0===this.controls)throw"Controls error!!";};EskyLib.prototype.startDrawing=function(){};
EskyLib.prototype.requestFrame=function(){for(var a=0,c=["ms","moz","webkit","o"],b=0;b<c.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[c[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[b]+"CancelAnimationFrame"]||window[c[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),h=window.setTimeout(function(){b(d+e)},e);a=d+e;return h});window.cancelAnimationFrame||
(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();EskyLib.prototype.draw=function(){console.log(this);this.renderer.render(this.scene,this.camera);this.requestFrame(this.draw)};
